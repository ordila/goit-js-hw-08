{"mappings":"gfAAA,IAkBAA,EAAe,CACbC,KAnBW,SAACC,EAAKC,GACjB,IACE,IAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAe3CC,KAXW,SAAAV,GACX,IACE,IAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,iBCXvCK,EAAO,CACXC,OAAQC,SAASC,cAAc,qBAG3BC,EAAW,IACjB,WACE,IAAMC,EAAiBrB,EAAoBY,KAAK,uBAChD,GAAIS,QAAJ,C,IAGKC,GAAS,EAATC,GAAS,EAATC,OAASV,E,IAAd,QAAKW,EAAAC,EAAaC,OAAOC,KAAKP,GAAeQ,OAAAC,cAAxCR,GAAAG,EAAAC,EAASK,QAAAC,MAATV,GAAS,GAAT,IAAMpB,EAANuB,EAAStB,MACZa,EAAKC,OAAOgB,SAAS/B,GAAKC,MAAQkB,EAAenB,E,WAD9CqB,GAAS,EAATC,EAASU,C,aAATZ,GAAS,MAATI,EAASS,QAATT,EAASS,Q,YAATZ,E,MAAAC,C,EAFH,C,CAMJY,GAQApB,EAAKC,OAAOoB,iBACV,QACAC,EAAAC,UAAW,SAAAC,GACT,IAAQC,EAA+BD,EAA/BE,OACFvC,EAAQsC,EAAmBtC,MAC3BwC,EAAOF,EAAmBE,KAEhCvB,EAASuB,GAAQxC,EACjBH,EAAoBC,KAAK,sBAAuBmB,E,GAC/C,MAELJ,EAAKC,OAAOoB,iBAAiB,UAjB7B,SAAwBG,GACtBA,EAAMI,iBACNJ,EAAME,OAAOG,QACbtC,aAAauC,QACbpC,QAAQqC,IAAI3B,E","sources":["src/js/localstorage.js","src/js/03-feedback.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n};\n","import localStorageService from './localstorage';\nconst _ = require('lodash');\n\nconst refs = {\n  formEl: document.querySelector('.js-contact-form'),\n};\n\nconst userData = {};\nfunction fillContactForm() {\n  const userDataFromLs = localStorageService.load('feedback-form-state');\n  if (userDataFromLs === null || userDataFromLs === undefined) {\n    return;\n  }\n  for (const key of Object.keys(userDataFromLs)) {\n    refs.formEl.elements[key].value = userDataFromLs[key];\n  }\n}\nfillContactForm();\n\nfunction onFormElSubmit(event) {\n  event.preventDefault();\n  event.target.reset();\n  localStorage.clear();\n  console.log(userData);\n}\nrefs.formEl.addEventListener(\n  'input',\n  _.throttle(event => {\n    const { target: contactFormElement } = event;\n    const value = contactFormElement.value;\n    const name = contactFormElement.name;\n\n    userData[name] = value;\n    localStorageService.save('feedback-form-state', userData);\n  }, 500)\n);\nrefs.formEl.addEventListener('submit', onFormElSubmit);\n"],"names":["$50116558f77987dc$export$2e2bcd8739ae039","save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","$b00c40859be242c5$var$refs","formEl","document","querySelector","$b00c40859be242c5$var$userData","userDataFromLs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Object","keys","Symbol","iterator","next","done","elements","err","return","$b00c40859be242c5$var$fillContactForm","addEventListener","$1WSnx","throttle","event","contactFormElement","target","name","preventDefault","reset","clear","log"],"version":3,"file":"03-feedback.75d316c7.js.map"}